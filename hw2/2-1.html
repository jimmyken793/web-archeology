<html>
<head>
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<link rel="stylesheet" href="2-1.css">
<title>HW2-1 使用影像物件來實作快取功能</title>
</head>

<body>
<h1>使用影像物件來實作快取功能</h1>
<hr />
<img src="http://placehold.it/200x200" id="image_frame" alt="">
<p id="load_time"></p>
<div>
	<a href="javascript:showPicture(1)">Picture 1</a>
	<a href="javascript:showPicture(2)">Picture 2</a>
	<a href="javascript:showPicture(3)">Picture 3</a>
	<a href="javascript:showPicture(4)">Picture 4</a>
	<a href="javascript:showPicture(5)">Picture 5</a>
	<a href="javascript:showPicture(6)">Picture 6</a>
	<a href="javascript:showPicture(7)">Picture 7</a>
	<a href="javascript:showPicture(8)">Picture 8</a>
	<a href="javascript:showPicture(9)">Picture 9</a>
	<a href="javascript:showPicture(10)">Picture 10</a>
	<a href="javascript:showPicture(11)">Picture 11</a>
	<a href="javascript:showPicture(12)">Picture 12</a>
	<a href="javascript:showPicture(13)">Picture 13</a>
	<a href="javascript:showPicture(14)">Picture 14</a>
	<a href="javascript:showPicture(15)">Picture 15</a>
</div>
<div>
	<a href="javascript:showPicture(16)">Picture 16</a>
	<a href="javascript:showPicture(17)">Picture 17</a>
	<a href="javascript:showPicture(18)">Picture 18</a>
	<a href="javascript:showPicture(19)">Picture 19</a>
	<a href="javascript:showPicture(20)">Picture 20</a>
	<a href="javascript:showPicture(21)">Picture 21</a>
	<a href="javascript:showPicture(22)">Picture 22</a>
	<a href="javascript:showPicture(23)">Picture 23</a>
	<a href="javascript:showPicture(24)">Picture 24</a>
	<a href="javascript:showPicture(25)">Picture 25</a>
	<a href="javascript:showPicture(26)">Picture 26</a>
	<a href="javascript:showPicture(27)">Picture 27</a>
	<a href="javascript:showPicture(28)">Picture 28</a>
	<a href="javascript:showPicture(29)">Picture 29</a>
	<a href="javascript:showPicture(30)">Picture 30</a>
</div>
<script src="lib.js"></script>
<script>
var image_objs = [];
var start_time;
function preloader(){
	for(var i in range(1,15)){
		var img = new Image();
		var msg = "image" + i +" done"
		img.onload = function(){
			console.log(msg);
		}
		img.src = "pics/"+i+".jpg";
		image_objs.push(img);
	}
}
$("#image_frame").onload = function(){
	if(start_time!=undefined){
		console.log(new Date()-start_time)
		$("#load_time").textContent = (new Date()-start_time)
	}
}
function showPicture(index){
	start_time = new Date();
	var img = $("#image_frame");
	img.src="pics/"+index+".jpg";
	console.log(img)
}
preloader();
</script>
</body>
</html>